<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Introduction à React Native</title>

	<link rel="stylesheet" href="https://www.bpesquet.fr/reveal.js/css/reveal.css">
	<link rel="stylesheet" href="https://www.bpesquet.fr/reveal.js/css/theme/white.css">

	
	<link rel="stylesheet" href="https://www.bpesquet.fr/reveal.js/lib/css/zenburn.css">

	
	<link rel="stylesheet" href="https://www.bpesquet.fr/css/reveal.css">

	
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'https:\/\/www.bpesquet.fr\/reveal.js\/css\/print\/pdf.css' : 'https:\/\/www.bpesquet.fr\/reveal.js\/css\/print\/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
    <h1>Introduction à React Native</h1>

    <p><a href="https://ensc.bordeaux-inp.fr">Ecole Nationale Supérieure de Cognitique</a></p>

    <p><a href="https://www.bpesquet.fr">Baptiste Pesquet</a></p>

    
    
    <a href="https://github.com/ensc-mobi/RandomBeer"><img src="https://www.bpesquet.fr/images/GitHub-Mark-64px.png" alt="GitHub logo"></a>
    
    
</section>

			<section>

<h2 id="sommaire">Sommaire</h2>

<ul>
<li>L&rsquo;écosystème mobile</li>
<li>Premiers pas avec React Native</li>
<li>Anatomie d&rsquo;une application React Native</li>
</ul>

</section>
				<section>

<h2 id="l-écosystème-mobile">L&rsquo;écosystème mobile</h2>

</section>
				<section>

<p><img src="images/smartphone_market_share_2016.jpg" alt="Smartphone platform market share" /></p>

</section>
				<section>

<p><img src="images/market-share-2015_2019.png" alt="Market share evolution 2015-2019" /></p>

</section>
				<section>

<p><img src="images/os-fragmentation_2018.jpg" alt="Mobile OS Fragmentation" /></p>

</section>
				<section>

<section data-shortcode-section>
<h2 id="développement-natif">Développement natif</h2>

<p>Création d&rsquo;applications en utilisant la technologie prévue par le concepteur de l&rsquo;OS.</p>

<ul>
<li>Android : Java</li>
<li>IOS : Objective-C ou Swift</li>
</ul>

<p class='fragment '
  >
  Ces technologies sont <strong>incompatibles</strong>.
</p>

</section>
				<section>

<h2 id="avantages">Avantages</h2>

<ul>
<li>Accès à l&rsquo;intégralité des fonctionnalités matérielles et logicielles du terminal mobile.</li>
<li>Performances optimales.</li>
</ul>

</section>
				<section>

<h2 id="inconvénient-majeur">Inconvénient (majeur !)</h2>

<p>Nécessité de créer puis de faire évoluer une application pour chaque environnement.</p>

</section>

</section>
				<section>

<section data-shortcode-section>
<h2 id="solutions-hybrides">Solutions hybrides</h2>

<p>Création d&rsquo;applications mobiles compatibles avec plusieurs OS mobiles grâce à un framework dédié.</p>

<p>Une application hybride est une application web qui s&rsquo;exécute à l&rsquo;intérieur d&rsquo;un navigateur.</p>

<p>Exemples : <a href="https://cordova.apache.org">Apache Cordova</a>, <a href="https://ionicframework.com">Ionic</a></p>

</section>
				<section>

<h2 id="avantages">Avantages</h2>

<ul>
<li>Fonctionnalités et performances proches de celles d&rsquo;une application native.</li>
<li>Economies de ressources pour créer l&rsquo;application.</li>
<li>Une seule base de code : maintenance et évolution facilitées.</li>
</ul>

</section>
				<section>

<h2 id="inconvénients">Inconvénients</h2>

<ul>
<li>Impossible d&rsquo;accéder à certaines fonctionnalités matérielles ou logicielles spécifiques.</li>
<li><em>Look&rsquo;n&rsquo;feel</em> non natif.</li>
<li>Mauvaises performances dans certains scenarii.</li>
</ul>

</section>

</section>
				<section>

<section data-shortcode-section>
<h2 id="développement-natif-multi-plateformes">Développement natif multi-plateformes</h2>

<p>Création d&rsquo;applications mobiles compatibles avec plusieurs OS mobiles grâce à un framework dédié.</p>

<p>Le framework encapsule les véritables composants natifs de l&rsquo;OS.</p>

<p>Exemples : <a href="https://facebook.github.io/react-native/">React Native</a>, <a href="https://weex.apache.org/">Weex</a>, <a href="https://www.visualstudio.com/fr/xamarin/">Xamarin</a></p>

</section>
				<section>

<h2 id="le-meilleur-des-deux-mondes">Le meilleur des deux mondes ?</h2>

<p>Combine les avantages du natif (<em>look&rsquo;n&rsquo;feel</em>, performances) et de l&rsquo;hybride (une seule base de code).</p>

<p>Limite potentielle : le support de l&rsquo;OS dépend entièrement du framework.</p>

</section>

</section>
				<section>

<h2 id="premiers-pas-avec-react-native">Premiers pas avec React Native</h2>

</section>
				<section>

<h2 id="react-native">React Native</h2>

<p>Framework créé par Facebook, open source depuis 2015.</p>

<p>Déclinaison mobile du framework JavaScript <a href="https://reactjs.org/">React</a>.</p>

<p><img src="images/reactjs.png" alt="React logo" /></p>

</section>
				<section>

<h2 id="expo">Expo</h2>

<p>Framework pour faciliter la création et le déploiement d&rsquo;applications React Native.</p>

<p><img src="images/expo_logo.png" alt="Expo logo" /></p>

<ul>
<li><a href="https://github.com/expo/expo-cli">Expo CLI</a> : outil en ligne de commande pour le développement local.</li>
<li><a href="https://expo.io">Expo client</a> : application mobile à installer sur le terminal cible pour le déploiement.</li>
</ul>

</section>
				<section>

<h2 id="création-d-une-application">Création d&rsquo;une application</h2>

<pre><code class="language-bash"># Install expo-cli globally
# (Node.js and Git are prerequisites)
npm install -g expo-cli

# Create a new app in the my-new-project subfolder
expo init my-new-project
</code></pre>

<ul>
<li><p>Workflow <strong>managé</strong> : projet entièrement géré par Expo (plus simple).</p></li>

<li><p>Workflow <strong>bare</strong> : plus proche d&rsquo;un projet React Native pur.</p></li>
</ul>

</section>
				<section>

<h2 id="contenu-du-répertoire-créé">Contenu du répertoire créé</h2>

<p><img src="images/rn-app-structure.png" alt="Arborescence React Native" /></p>

</section>
				<section>

<h2 id="déploiement-de-l-application">Déploiement de l&rsquo;application</h2>

<pre><code class="language-bash">cd my-new-project # move into project directory
npm start # Or 'expo start'
</code></pre>

<p>Ensuite, scan du QR Code depuis l&rsquo;application Expo (Android) ou l&rsquo;appareil photo du smartphone (iOS).</p>

<p><img src="images/expo_qrcode.png" alt="Expo QR Code" /></p>

</section>
				<section>

<h2 id="détails-sur-le-déploiement">Détails sur le déploiement</h2>

<ul>
<li>L&rsquo;application est hébergée sur un serveur web local.</li>
<li>Expo s&rsquo;y connecte pour la récupérer puis la lancer.</li>
<li>Une interface de gestion s&rsquo;affiche dans le navigateur.</li>
</ul>

<p><img src="images/expo_management.png" alt="Expo Management" /></p>

</section>
				<section>

<h2 id="connexion-au-serveur-expo">Connexion au serveur Expo</h2>

<p>L&rsquo;application Expo client doit accéder au serveur web de la machine de développement pour pouvoir lancer l&rsquo;application RN.</p>

<p>Il existe plusieurs modes de connexion :</p>

<ul>
<li><strong>LAN</strong> : utilisation du réseau Wifi local. Peut poser problème dans certains environnements.</li>
<li><strong>Tunnel</strong> : création d&rsquo;un tunnel avec <a href="https://ngrok.com/">ngrok</a> pour accéder au serveur local via le web. Nécessite que le terminal mobile dispose d&rsquo;un accès internet.</li>
</ul>

</section>
				<section>

<h2 id="rechargement-dynamique">Rechargement dynamique</h2>

<p><a href="https://openclassrooms.com/fr/courses/4902061-developpez-une-application-mobile-react-native/"><img src="images/expo_reload.jpeg" alt="Live Reload" /></a></p>

</section>
				<section>

<h2 id="exemple-d-application">Exemple d&rsquo;application</h2>

<p><a href="https://github.com/ensc-mobi/RandomBeer">https://github.com/ensc-mobi/RandomBeer</a>
<img src="images/random_beer.png" alt="Random Beer app" /></p>

</section>
				<section>

<h2 id="anatomie-d-une-application-react-native">Anatomie d&rsquo;une application React Native</h2>

</section>
				<section>

<h2 id="le-fichier-de-configuration-app-json">Le fichier de configuration app.json</h2>

<pre><code class="language-json">{
  &quot;expo&quot;: {
    &quot;name&quot;: &quot;My New Project&quot;,
    &quot;slug&quot;: &quot;my-new-project&quot;,
    &quot;privacy&quot;: &quot;public&quot;,
    &quot;sdkVersion&quot;: &quot;36.0.0&quot;,
    &quot;platforms&quot;: [
      &quot;ios&quot;,
      &quot;android&quot;,
      &quot;web&quot;
    ],
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;orientation&quot;: &quot;portrait&quot;,
    &quot;icon&quot;: &quot;./assets/icon.png&quot;,
    &quot;splash&quot;: {
      &quot;image&quot;: &quot;./assets/splash.png&quot;,
      &quot;resizeMode&quot;: &quot;contain&quot;,
      &quot;backgroundColor&quot;: &quot;#ffffff&quot;
    },
    &quot;updates&quot;: {
      &quot;fallbackToCacheTimeout&quot;: 0
    },
    &quot;assetBundlePatterns&quot;: [
      &quot;**/*&quot;
    ],
    &quot;ios&quot;: {
      &quot;supportsTablet&quot;: true
    }
  }
}
</code></pre>

</section>
				<section>

<h2 id="le-fichier-package-json">Le fichier package.json</h2>

<pre><code class="language-json">{
  &quot;main&quot;: &quot;node_modules/expo/AppEntry.js&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;expo start&quot;,
    &quot;android&quot;: &quot;expo start --android&quot;,
    &quot;ios&quot;: &quot;expo start --ios&quot;,
    &quot;web&quot;: &quot;expo start --web&quot;,
    &quot;eject&quot;: &quot;expo eject&quot;
  },
  &quot;dependencies&quot;: {
    &quot;expo&quot;: &quot;~36.0.0&quot;,
    &quot;react&quot;: &quot;~16.9.0&quot;,
    &quot;react-dom&quot;: &quot;~16.9.0&quot;,
    &quot;react-native&quot;: &quot;https://github.com/expo/react-native/archive/sdk-36.0.0.tar.gz&quot;,
    &quot;react-native-web&quot;: &quot;~0.11.7&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;babel-preset-expo&quot;: &quot;~8.0.0&quot;,
    &quot;@babel/core&quot;: &quot;^7.0.0&quot;
  },
  &quot;private&quot;: true
}
</code></pre>

</section>
				<section>

<h2 id="le-fichier-principal-app-js">Le fichier principal App.js</h2>

<pre><code class="language-jsx">import React from 'react';
import { StyleSheet, Text, View } from 'react-native';

export default function App() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text&gt;Open up App.js to start working on your app!&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    alignItems: 'center',
    justifyContent: 'center',
  },
});
</code></pre>

</section>
				<section>

<h2 id="jsx">JSX</h2>

<p>Syntaxe introduite pour le framework web <a href="https://reactjs.org/">React</a> permettant de décrire une UI en intégrant balisage et logique applicative.</p>

<pre><code class="language-jsx">// JSX for React (web)
const name = 'Clarisse Agbegnenou';
const element = &lt;h1&gt;Hello, {name}&lt;/h1&gt;;
</code></pre>

<pre><code class="language-jsx">// JSX for React Native (mobile)
const a = &lt;View /&gt;
const b = (
  &lt;View
    foo='hello'
    bar={baz}&gt;
    &lt;Text&gt;42&lt;/Text&gt;
  &lt;/View&gt;
)
</code></pre>

</section>
				<section>

<h2 id="la-notion-de-composant">La notion de composant</h2>

<ul>
<li><p>Les <strong>composants</strong> sont les blocs de base d&rsquo;une application React (Native).</p></li>

<li><p>Ils permettent de créer une UI sous forme <strong>déclarative</strong> par assemblage de composants.</p></li>

<li><p>Ils doivent disposer d&rsquo;une méthode <code>render()</code> qui définit leur rendu visuel.</p></li>
</ul>

</section>
				<section>

<h2 id="propriétés-props-d-un-composant">Propriétés (props) d&rsquo;un composant</h2>

<p>Caractéristiques définies au moment de la création.
Modifiables uniquement par le composant parent.</p>

<pre><code class="language-jsx">import React, { Component } from 'react';
import { Text, View } from 'react-native';

class Greeting extends Component {
  render() {
    return &lt;Text&gt;Hello {this.props.name}!&lt;/Text&gt;;
  }
}

export default class LotsOfGreetings extends Component {
  render() {
    return (
      &lt;View style={{ alignItems: &quot;center&quot; }}&gt;
        &lt;Greeting name=&quot;John&quot; /&gt;
        &lt;Greeting name=&quot;Paul&quot; /&gt;
        &lt;Greeting name=&quot;Jones&quot; /&gt;
      &lt;/View&gt;
    );
  }
}
</code></pre>

</section>
				<section>

<h2 id="etat-d-un-composant">Etat d&rsquo;un composant</h2>

<p>Etat interne (données) d&rsquo;un composant, susceptible de changer au cours du temps (mutable).
Modifié uniquement via <code>setState()</code>.</p>

<pre><code class="language-jsx">import React, { Component } from 'react';
import { StyleSheet, Text, View } from 'react-native';

class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
    setInterval(() =&gt; {
      this.setState({ count: this.state.count + 1 });
    }, 1000);
  }

  render() {
    const { count } = this.state;
    const { color, size } = this.props;

    return &lt;Text style={{ color, fontSize: size }}&gt;{count}&lt;/Text&gt;;
  }
}

export default class CounterApp extends Component {
  render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;Counter color={&quot;red&quot;} size={30} /&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: &quot;#fff&quot;,
    alignItems: &quot;center&quot;,
    justifyContent: &quot;center&quot;
  }
});
</code></pre>

</section>
				<section>

<h2 id="composants-de-base">Composants de base</h2>

<p><img src="images/basic_components.png" alt="React Native core components" /></p>

</section>
				<section>

<h2 id="composants-d-interface-utilisateur">Composants d&rsquo;interface utilisateur</h2>

<p><img src="images/ui_components.png" alt="React native UI components" /></p>
</section>
				</div>
	</div>
	<div>
		<a href="https://ensc.bordeaux-inp.fr">
			<img src="https://www.bpesquet.fr/images/ENSC.jpg" style="position: absolute;
						bottom: 10px;
						left: 10px;" />
		</a>
	</div>

	<script src="https://www.bpesquet.fr/reveal.js/lib/js/head.min.js"></script>
	<script src="https://www.bpesquet.fr/reveal.js/js/reveal.js"></script>

	<script>
		
		
		
		Reveal.initialize({
			
			history: false,
			
			slideNumber: true,
			
			transition: "convex",
			math: {
				mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
				config: 'TeX-MML-AM_HTMLorMML'  
			},
			dependencies: [
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/markdown\/marked.js' },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/markdown\/markdown.js' },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/notes\/notes.js', async: true },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/zoom-js\/zoom.js', async: true },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/highlight\/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/math\/math.js', async: true }
			]
		});
	</script>
</body>

</html>